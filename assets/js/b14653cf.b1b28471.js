"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[8441],{8903:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>c,frontMatter:()=>i,metadata:()=>s,toc:()=>u});var t=r(5893),d=r(1151);const i={sidebar_position:3},o="3.\u8c03\u8bd5\u914d\u7f6e",s={id:"D213-DevKit/part4/11-3_DebugTheConfiguration",title:"3.\u8c03\u8bd5\u914d\u7f6e",description:"\u8c03\u8bd5\u53e3\u5728 Bringup \u8fc7\u7a0b\u4e2d\u975e\u5e38\u91cd\u8981\uff0c\u56e0\u6b64\u6709\u5fc5\u8981\u5148\u914d\u7f6e\u597d\u8c03\u8bd5\u4fe1\u606f",source:"@site/docs/D213-DevKit/part4/11-3_DebugTheConfiguration.md",sourceDirName:"D213-DevKit/part4",slug:"/D213-DevKit/part4/11-3_DebugTheConfiguration",permalink:"/docs/D213-DevKit/part4/11-3_DebugTheConfiguration",draft:!1,unlisted:!1,editUrl:"https://github.com/100askTeam/ArtInChip-Docs/tree/master/docs/D213-DevKit/part4/11-3_DebugTheConfiguration.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"d213dkSidebar",previous:{title:"2.\u5b58\u50a8\u914d\u7f6e",permalink:"/docs/D213-DevKit/part4/11-2_StorageConfiguration"},next:{title:"4.\u5237\u673a",permalink:"/docs/D213-DevKit/part4/11-4_Flash"}},l={},u=[{value:"1. \u8c03\u8bd5\u7aef\u53e3",id:"1-\u8c03\u8bd5\u7aef\u53e3",level:3},{value:"1.1. board.dts",id:"11-boarddts",level:4},{value:"1.2. board-u-boot.dtsi",id:"12-board-u-bootdtsi",level:4},{value:"2. \u4e32\u53e3\u53c2\u6570",id:"2-\u4e32\u53e3\u53c2\u6570",level:3},{value:"2.1. uboot",id:"21-uboot",level:4},{value:"2.2. kernel",id:"22-kernel",level:4},{value:"3. \u8c03\u8bd5\u65e5\u5fd7",id:"3-\u8c03\u8bd5\u65e5\u5fd7",level:3},{value:"4. \u989d\u5916\u65e5\u5fd7",id:"4-\u989d\u5916\u65e5\u5fd7",level:3},{value:"5. \u6210\u679c",id:"5-\u6210\u679c",level:3}];function a(e){const n={code:"code",h1:"h1",h3:"h3",h4:"h4",p:"p",pre:"pre",strong:"strong",...(0,d.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"3\u8c03\u8bd5\u914d\u7f6e",children:"3.\u8c03\u8bd5\u914d\u7f6e"}),"\n",(0,t.jsx)(n.p,{children:"\u8c03\u8bd5\u53e3\u5728 Bringup \u8fc7\u7a0b\u4e2d\u975e\u5e38\u91cd\u8981\uff0c\u56e0\u6b64\u6709\u5fc5\u8981\u5148\u914d\u7f6e\u597d\u8c03\u8bd5\u4fe1\u606f"}),"\n",(0,t.jsx)(n.h3,{id:"1-\u8c03\u8bd5\u7aef\u53e3",children:"1. \u8c03\u8bd5\u7aef\u53e3"}),"\n",(0,t.jsx)(n.p,{children:"\u56e0\u4e3a uboot\uff0ckernel\uff0crootfs \u5747\u7528\u5230\u8c03\u8bd5\u7aef\u53e3\uff0c\u56e0\u6b64\u6709\u51e0\u4e2a\u914d\u7f6e\u53c2\u8003\uff0c\u4ee5 demo128_nand \u5de5\u7a0b\u4e3a\u4f8b\uff0c \u4f7f\u7528 uart0 \u7aef\u53e3\u4f5c\u4e3a\u8c03\u8bd5\u53e3"}),"\n",(0,t.jsx)(n.h4,{id:"11-boarddts",children:"1.1. board.dts"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'&uart0 {\n    pinctrl-names = "default";\n    pinctrl-0 = <&uart0_pins_a>;   //\u5728target/d211/common/d211-pinctrl.dts \u4e2d\u9884\u5b9a\u4e49\n    status = "okay";\n};\n'})}),"\n",(0,t.jsx)(n.h4,{id:"12-board-u-bootdtsi",children:"1.2. board-u-boot.dtsi"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:" uart0_pins_a: uart0-0 {\n    u-boot,dm-pre-reloc;\n    pins {\n        u-boot,dm-pre-reloc;\n    };\n};\n\n&uart0 {\n    u-boot,dm-pre-reloc;\n};\n"})}),"\n",(0,t.jsx)(n.h3,{id:"2-\u4e32\u53e3\u53c2\u6570",children:"2. \u4e32\u53e3\u53c2\u6570"}),"\n",(0,t.jsx)(n.p,{children:"\u4e3b\u8981\u914d\u7f6e\u4f7f\u7528\u54ea\u4e2a\u7aef\u53e3\uff0c\u7aef\u53e3\u7684\u6ce2\u7279\u7387\u7b49\u5de5\u4f5c\u53c2\u6570"}),"\n",(0,t.jsx)(n.h4,{id:"21-uboot",children:"2.1. uboot"}),"\n",(0,t.jsx)(n.p,{children:"\u5982\u679c\u5de5\u7a0b\u76ee\u5f55\uff08\u5982target/d211/demo128_nand/\uff09\u4e2d\u6709 env.txt \u6587\u4ef6\uff0c\u5219\u8be5\u6587\u4ef6\u751f\u6548\uff0c\u5426\u5219\u4f7f\u7528 target/d211/common/env.txt \u6587\u4ef6"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"baudrate=115200\npreboot=\nverify=no\n"})}),"\n",(0,t.jsx)(n.h4,{id:"22-kernel",children:"2.2. kernel"}),"\n",(0,t.jsx)(n.p,{children:"kernel \u4e32\u53e3\u53c2\u6570\u5728 board.dts \u4e2d\u8bbe\u7f6e"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'chosen {\n    stdout-path = "serial0:115200n8";                  //uart0, 115200,n,8\n    bootargs = "rdinit=/init earlycon=sbi loglevel=7";\n    reset-after-fw-burn;\n};\n'})}),"\n",(0,t.jsx)(n.h3,{id:"3-\u8c03\u8bd5\u65e5\u5fd7",children:"3. \u8c03\u8bd5\u65e5\u5fd7"}),"\n",(0,t.jsx)(n.p,{children:"uboot \u4e2d\u9ed8\u8ba4\u7684\u8c03\u8bd5\u65e5\u5fd7\u7b49\u7ea7\u6bd4\u8f83\u9ad8\uff0c\u56e0\u6b64\u5173\u952e\u4fe1\u606f\u9ed8\u8ba4\u662f\u6709\u8f93\u51fa\u7684"}),"\n",(0,t.jsxs)(n.p,{children:["kernel \u4e2d\u9ed8\u8ba4\u5173\u95ed\u4e86\u8c03\u8bd5\u65e5\u5fd7\uff0c\u56e0\u6b64\u5728 Bringup \u7684\u65f6\u5019\u9700\u8981\u6253\u5f00\uff0c\u5f00\u5173\u5728\u4e0a\u8ff0\u7684 env.txt \u4e2d\uff0c\u53bb\u6389 ",(0,t.jsx)(n.code,{children:"quiet"})," \u53c2\u6570\u5373\u53ef"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"set_commonargs=setenv bootargs quiet earlycon=${earlycon} earlyprintk init=/linuxrc\n"})}),"\n",(0,t.jsx)(n.h3,{id:"4-\u989d\u5916\u65e5\u5fd7",children:"4. \u989d\u5916\u65e5\u5fd7"}),"\n",(0,t.jsx)(n.p,{children:"Luban \u4e2d\u6709\u4e00\u4e9b\u6a21\u5757\u4f7f\u7528\u4e86\u989d\u5916\u7684\u8c03\u8bd5\u63a7\u5236\u5f00\u5173\uff0c\u5982\u679c\u9700\u8981\u53ef\u4ee5\u624b\u5de5\u6253\u5f00\uff0c\u4f46\u5982\u679c\u6a21\u5757\u5de5\u4f5c\u6b63\u5e38\u5c31\u5c3d\u91cf\u4e0d\u8981\u6253\u5f00\uff0c\u56e0\u4e3a\u4f1a\u62d6\u6162\u5f00\u673a\u901f\u5ea6"}),"\n",(0,t.jsx)(n.p,{children:"make km \u2013> Kernel hacking \u2013> Artinchip Debug"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"[ ] ADCIM driver debug\n[ ] Audio Codec driver debug\n[ ] CE driver debug\n[ ] SPI ENC driver debug\n[ ] CIR driver debug\n[ ] CMU driver debug\n[ ] DE driver debug\n[ ] DVP driver debug\n[ ] GPAI driver debug\n[ ] GE driver debug\n[ ] GMAC driver debug\n[ ] VE driver debug\n[ ] Pinctrl driver debug\n[ ] PWM driver debug\n[ ] RTC driver debug\n[ ] RTP driver debug\n[ ] SD&MMC Host Controller driver debug\n[ ] SPI driver debug\n[ ] Thermal Sensor driver debug\n[ ] I2C driver debug\n[ ] UART driver debug\n[ ] USB driver debug\n[ ] Watchdog driver debug\n[ ] SID(eFuse) driver debug\n[ ] Boot time debug\n"})}),"\n",(0,t.jsx)(n.h3,{id:"5-\u6210\u679c",children:"5. \u6210\u679c"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"\u6210\u529f\u7684\u8c03\u8bd5\u7aef\u53e3\u914d\u7f6e\u53ef\u4ee5\u8ba9\u6211\u4eec\u5f88\u5bb9\u6613\u53d1\u73b0\u95ee\u9898\u7684\u6839\u672c\u539f\u56e0\u800c\u53bb\u5feb\u901f\u89e3\u51b3\u5b83"})})]})}function c(e={}){const{wrapper:n}={...(0,d.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}},1151:(e,n,r)=>{r.d(n,{Z:()=>s,a:()=>o});var t=r(7294);const d={},i=t.createContext(d);function o(e){const n=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:o(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);